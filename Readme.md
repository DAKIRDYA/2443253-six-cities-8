# Личный проект «Шесть городов». Серверная часть
# https://github.com/DAKIRDYA/2443253-six-cities-8
# Курс - Node.js. Профессиональная разработка REST API.
# Профессия - "Фулстек-разработчик"
# Онлайн академия HTML Academy (https://htmlacademy.ru)

# Язык программирования TypeScript. Node Js

# Студент: [Дима Кирдяшкин].




### Инструкция


# 1. Создайте форк (для редактирования и дополнения проекта)

Откройте репозиторий и нажмите кнопку «Fork» в правом верхнем углу. Репозиторий из будет скопирован в ваш аккаунт.

# 2. Клонируйте репозиторий на свой компьютер

```
git clone адрес_вашего_форка
```

# 3. Откройте директорий проекта из вашего редактора (например, из Visual Studio Code)

# 4. Установите зависимости с помощью команды в терминале редактора

```
npm install
```

# 5. Для запуска проекта необходимо:
# 5.1 Создать конфигурационный файл .env в корневой директории приложения. 
Для этого используйте пожалуйста структуру из файла .env.example
# 5.2 Создать экземпляр БД MongoDB в Docker. Необходимо предварительно установить и запустить платформу Docker в вашей системе
Для этого выполните пожалуйста в терминале следующую команду, предварительлно сконфигурировав файл docker-compose.dev.yml, 
находящийся в корневой директории приложения. Проверьте, чтобы данные по подключению к БД (строка URI) совпадали с данными из .env файла.
> docker compose --file ./docker-compose.dev.yml --env-file .env --project-name "six-cities" up -d
# 5.3 Заполнить БД тестовыми данными. Для этого выполним команду из командной строки приложения,предварительно запустив тестовый сервер данных в другом окне терминала
Запуск тестового сервера для данных (mocks/mock-server-data.json)
> npm run mock:server 

Заполнение БД тестовыми данными (src/mocks/mock-offers.tsv)
> npm run ts ./src/main.cli.ts -- --import <путь к файлу с тестовыми данными> <БД пользователь> <БД пароль пользователя> <host> <имя БД> <secret>
Пример:
> npm run ts ./src/main.cli.ts -- --import ./src/mocks/mock-offers.tsv admin test localhost "six-cities" secret

# 5.4 Запустить приложение
> npm start

# 6 Тестовые запросы по работе с приложением находятся в файле queries.http. Необходимо учитывать что запросы по получению списков предложений, их созданию и удалению требуют авторизации. Поэтому сначала выполнить запрос по созданию нового пользователя и его авторизации. Ряд запросов требует авторизационный токен (Bearer), он также может быть получен в результате авторизации.

# Дополнительная информация по проекту в файле Workflow.md



### Исходный код проекта находится в директории /src.
```
  src/cli - реализация командной строки приложения
  src/mosks - работа с тестовыми данными приложения
  src/rest - реализация REST
  src/shared - вспомогательные библиотеки, типы, реализация работы с сущностями БД, контроллеры для них
  src/static  - статичные ресурсы
  src/upload  - загружаемые ресурсы (аватары пользователей)
```
### /markup -  Исходная разметка для фронтендной части проекта.
### В каталоге /log  - файл с логированием работы приложения
### В каталоге /specification находится файл со спецификацией OpenAPI проекта. Познакомиться с ней можно удобно с помощью одного
### из редакторов для OpenAPI, например, OpenAPI (Swagger) Editor.

